#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_cdk_lib_1 = require("aws-cdk-lib");
const cdk_stack_1 = require("../lib/cdk-stack");
const permissions_boundary_aspect_1 = require("../lib/permissions-boundary-aspect");
const stack = new cdk_stack_1.CdkStack(new aws_cdk_lib_1.App(), 'CdkStack', { description: 'Lambda-SNS starter project' });
const { ACCOUNT_ID, PARTITION, REGION, STACK_NAME } = aws_cdk_lib_1.Aws;
const permissionBoundaryArn = `arn:${PARTITION}:iam::${ACCOUNT_ID}:policy/${STACK_NAME}-${REGION}-PermissionsBoundary`;
// Apply permissions boundary to the stack
aws_cdk_lib_1.Aspects.of(stack).add(new permissions_boundary_aspect_1.PermissionsBoundaryAspect(permissionBoundaryArn));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLDZDQUFnRDtBQUVoRCxnREFBNEM7QUFDNUMsb0ZBQStFO0FBRy9FLE1BQU0sS0FBSyxHQUFHLElBQUksb0JBQVEsQ0FBQyxJQUFJLGlCQUFHLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxXQUFXLEVBQUUsNEJBQTRCLEVBQUUsQ0FBQyxDQUFDO0FBQ2pHLE1BQU0sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxpQkFBRyxDQUFDO0FBQzFELE1BQU0scUJBQXFCLEdBQUcsT0FBTyxTQUFTLFNBQVMsVUFBVSxXQUFXLFVBQVUsSUFBSSxNQUFNLHNCQUFzQixDQUFDO0FBRXZILDBDQUEwQztBQUMxQyxxQkFBTyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSx1REFBeUIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgeyBBcHAsIEFzcGVjdHMsIEF3cyB9IGZyb20gJ2F3cy1jZGstbGliJztcblxuaW1wb3J0IHsgQ2RrU3RhY2sgfSBmcm9tICcuLi9saWIvY2RrLXN0YWNrJztcbmltcG9ydCB7IFBlcm1pc3Npb25zQm91bmRhcnlBc3BlY3QgfSBmcm9tICcuLi9saWIvcGVybWlzc2lvbnMtYm91bmRhcnktYXNwZWN0JztcblxuXG5jb25zdCBzdGFjayA9IG5ldyBDZGtTdGFjayhuZXcgQXBwKCksICdDZGtTdGFjaycsIHsgZGVzY3JpcHRpb246ICdMYW1iZGEtU05TIHN0YXJ0ZXIgcHJvamVjdCcgfSk7XG5jb25zdCB7IEFDQ09VTlRfSUQsIFBBUlRJVElPTiwgUkVHSU9OLCBTVEFDS19OQU1FIH0gPSBBd3M7XG5jb25zdCBwZXJtaXNzaW9uQm91bmRhcnlBcm4gPSBgYXJuOiR7UEFSVElUSU9OfTppYW06OiR7QUNDT1VOVF9JRH06cG9saWN5LyR7U1RBQ0tfTkFNRX0tJHtSRUdJT059LVBlcm1pc3Npb25zQm91bmRhcnlgO1xuXG4vLyBBcHBseSBwZXJtaXNzaW9ucyBib3VuZGFyeSB0byB0aGUgc3RhY2tcbkFzcGVjdHMub2Yoc3RhY2spLmFkZChuZXcgUGVybWlzc2lvbnNCb3VuZGFyeUFzcGVjdChwZXJtaXNzaW9uQm91bmRhcnlBcm4pKTtcbiJdfQ==